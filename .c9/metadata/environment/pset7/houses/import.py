{"filter":false,"title":"import.py","tooltip":"/pset7/houses/import.py","undoManager":{"mark":0,"position":0,"stack":[[{"start":{"row":0,"column":0},"end":{"row":28,"column":89},"action":"insert","lines":["from cs50 import SQL","from csv import reader","from sys import argv","","# open the database in a variable to reuse later","db = SQL(\"sqlite:///students.db\")","","# check that we launched the code with proper arguments, otherwise it exits","if len(argv) < 2:","    print(\"usage error, import.py characters.csv\")","    exit()","","# open the csv file containing the students info and copy the content into a list","with open(argv[1], newline='') as charactersFile:","    characters = reader(charactersFile)","    for character in characters:","        if character[0] == 'name':","            continue","","        # split the full name into first, last and middle name if present","        fullName = character[0].split()","        # insert the name and the other infos in the database, the database will show NULL if the student has no middle name","        if len(fullName) < 3:","            db.execute(\"INSERT INTO students(first, middle, last, house, birth) VALUES(?, ?, ?, ?, ?)\",","                       fullName[0], None, fullName[1], character[1], character[2])","","        else:","            db.execute(\"INSERT INTO students(first, middle, last, house, birth) VALUES(?, ?, ?, ?, ?)\",","                       fullName[0], fullName[1], fullName[2], character[1], character[2])"],"id":1}]]},"ace":{"folds":[],"scrolltop":37,"scrollleft":0,"selection":{"start":{"row":28,"column":89},"end":{"row":28,"column":89},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":1,"state":"start","mode":"ace/mode/python"}},"timestamp":1597032679616,"hash":"817bbb9162b51b34e046752b64600666aa4ae76c"}